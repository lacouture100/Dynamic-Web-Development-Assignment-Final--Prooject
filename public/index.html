<!DOCTYPE html>
<html>
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <title>Data Playground</title>
    <meta name="Assignment 5" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <base href="/">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
</head>

<body>
    <h1>Test your connections here!</h1>

    <script>
        //Make Connection
        let socket;
        let value = 10;
        async function connectSocket() {
            socket = io.connect('http://localhost:3000');
            console.log(socket)

            console.log(socket.id)
            console.log(socket)
        }

        connectSocket().then(
            socket.emit('message', value)
        )
        if (socket.connected == true) {
            let connectedContainer = document.createElement("div");
            //created the container for the category label
            let connectedStatus = document.createElement("h2");
            //set the class for each category label
            connectedStatus.setAttribute("class", "connected__status");
            //set the category label's unique id
            connectedStatus.setAttribute("id", `${socket.id}__status`);
            //Fill the label with text
            connectedStatus.textContent = `${socket.id} Connected!`;
            //append the category's title to it's container
            document.body.appendChild(connectedContainer);
            connectedContainer.appendChild(connectedStatus)
        } else {
            console.log("Not connected")
            socket.emit('message', value)
        }


        
    </script>
</body>

</html>